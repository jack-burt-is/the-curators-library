[gd_scene load_steps=12 format=4 uid="uid://duimsfaco6ryc"]

[ext_resource type="PackedScene" uid="uid://7ugb3rp7suaw" path="res://scenes/player.tscn" id="1_7xs0p"]
[ext_resource type="TileSet" uid="uid://dmqptk0k06agj" path="res://assets/tilesets/interior.tres" id="1_tqh7g"]
[ext_resource type="PackedScene" uid="uid://bfeyc2q7uhq8a" path="res://scenes/embers.tscn" id="4_tkxoj"]
[ext_resource type="PackedScene" uid="uid://drvu6y7qatqg5" path="res://scenes/lamp.tscn" id="6_r1p8v"]
[ext_resource type="Script" path="res://scripts/character_spawner.gd" id="7_44jot"]
[ext_resource type="PackedScene" uid="uid://cmfs8ryjemo1u" path="res://scenes/door.tscn" id="8_x81t4"]
[ext_resource type="AudioStream" uid="uid://dfj7ixvi3gsx0" path="res://sounds/crackling-fire.wav" id="9_ykf7b"]

[sub_resource type="Environment" id="Environment_3nojf"]
tonemap_mode = 3
glow_normalized = true
glow_intensity = 1.13
glow_blend_mode = 0

[sub_resource type="GDScript" id="GDScript_c8cdf"]
script/source = "extends TileMapLayer


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="Gradient" id="Gradient_kbu5v"]
interpolation_mode = 2
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_g1yrr"]
gradient = SubResource("Gradient_kbu5v")
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0.3)

[node name="Store" type="Node2D"]
y_sort_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_3nojf")

[node name="TileMap" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Navigation" type="TileMapLayer" parent="TileMap"]
visible = false
z_index = 5
tile_map_data = PackedByteArray("AAD5/wMAAwAAAAAAAAD6/wMAAwAAAAAAAAD3////AwAAAAAAAAD3/wAAAwAAAAAAAAD3/wEAAwAAAAAAAAD3/wIAAwAAAAAAAAD3/wMAAwAAAAAAAAD3/wQAAwAAAAAAAAD3/wUAAwAAAAAAAAD3/wYAAwAAAAAAAAD3/wcAAwAAAAAAAAD4////AwAAAAAAAAD4/wAAAwAAAAAAAAD4/wEAAwAAAAAAAAD4/wIAAwAAAAAAAAD4/wMAAwAAAAAAAAD4/wQAAwAAAAAAAAD4/wUAAwAAAAAAAAD4/wYAAwAAAAAAAAD4/wcAAwAAAAAAAAD2/wUAAwAAAAAAAAD2/wYAAwAAAAAAAAD2/wcAAwAAAAAAAAD5/wQAAwAAAAAAAAD5/wUAAwAAAAAAAAD5/wYAAwAAAAAAAAD5/wcAAwAAAAAAAAD6/wQAAwAAAAAAAAD6/wUAAwAAAAAAAAD6/wYAAwAAAAAAAAD6/wcAAwAAAAAAAAD7/wMAAwAAAAAAAAD7/wQAAwAAAAAAAAD7/wUAAwAAAAAAAAD7/wYAAwAAAAAAAAD7/wcAAwAAAAAAAAD8/wMAAwAAAAAAAAD8/wQAAwAAAAAAAAD8/wUAAwAAAAAAAAD8/wYAAwAAAAAAAAD8/wcAAwAAAAAAAAD9/wMAAwAAAAAAAAD9/wQAAwAAAAAAAAD9/wUAAwAAAAAAAAD9/wYAAwAAAAAAAAD9/wcAAwAAAAAAAAD+/wMAAwAAAAAAAAD+/wQAAwAAAAAAAAD+/wUAAwAAAAAAAAD+/wYAAwAAAAAAAAD+/wcAAwAAAAAAAAD//wMAAwAAAAAAAAD//wQAAwAAAAAAAAD//wUAAwAAAAAAAAD//wYAAwAAAAAAAAD//wcAAwAAAAAAAAAAAAMAAwAAAAAAAAAAAAQAAwAAAAAAAAAAAAUAAwAAAAAAAAAAAAYAAwAAAAAAAAAAAAcAAwAAAAAAAAABAAMAAwAAAAAAAAABAAQAAwAAAAAAAAABAAUAAwAAAAAAAAABAAYAAwAAAAAAAAABAAcAAwAAAAAAAAACAAMAAwAAAAAAAAACAAQAAwAAAAAAAAACAAUAAwAAAAAAAAACAAYAAwAAAAAAAAACAAcAAwAAAAAAAAADAAcAAwAAAAAAAAAEAAcAAwAAAAAAAAAFAAcAAwAAAAAAAAAGAAcAAwAAAAAAAAAHAAcAAwAAAAAAAAAIAAcAAwAAAAAAAAAJAAcAAwAAAAAAAAAEAAUAAwAAAAAAAAAEAAYAAwAAAAAAAAAFAAUAAwAAAAAAAAAFAAYAAwAAAAAAAAAGAAUAAwAAAAAAAAAGAAYAAwAAAAAAAAAHAAYAAwAAAAAAAAAIAAYAAwAAAAAAAAAJAAYAAwAAAAAAAAAJAAIAAwAAAAAAAAAJAAMAAwAAAAAAAAAJAAQAAwAAAAAAAAAJAAUAAwAAAAAAAAAIAAIAAwAAAAAAAAAIAP//AwAAAAAAAAAIAAAAAwAAAAAAAAAIAAEAAwAAAAAAAAD/////AwAAAAAAAAD//wAAAwAAAAAAAAAAAP//AwAAAAAAAAAAAAAAAwAAAAAAAAABAP//AwAAAAAAAAABAAAAAwAAAAAAAAACAP//AwAAAAAAAAACAAAAAwAAAAAAAAADAP//AwAAAAAAAAADAAAAAwAAAAAAAAAEAP//AwAAAAAAAAAEAAAAAwAAAAAAAAAFAP//AwAAAAAAAAAFAAAAAwAAAAAAAAAGAP//AwAAAAAAAAAGAAAAAwAAAAAAAAAHAP//AwAAAAAAAAAHAAAAAwAAAAAAAAD//wEAAwAAAAAAAAAAAAEAAwAAAAAAAAABAAEAAwAAAAAAAAACAAEAAwAAAAAAAAADAAEAAwAAAAAAAAAEAAEAAwAAAAAAAAAFAAEAAwAAAAAAAAAGAAEAAwAAAAAAAAAHAAEAAwAAAAAAAAD//wIAAwAAAAAAAAAAAAIAAwAAAAAAAAABAAIAAwAAAAAAAAACAAIAAwAAAAAAAAADAAIAAwAAAAAAAAD5////AwAAAAAAAAD6////AwAAAAAAAAD7////AwAAAAAAAAD8////AwAAAAAAAAD9////AwAAAAAAAAD+////AwAAAAAAAAD5/wAAAwAAAAAAAAD6/wAAAwAAAAAAAAD7/wAAAwAAAAAAAAD8/wAAAwAAAAAAAAD9/wAAAwAAAAAAAAD+/wAAAwAAAAAAAAD///7/AwAAAAAAAAACAP7/AwAAAAAAAAD7//7/AwAAAAAAAAD5//7/AwAAAAAAAAD7/wgAAwAAAAAAAAD8/wgAAwAAAAAAAAD7/wkAAwAAAAAAAAD7/woAAwAAAAAAAAD8/wkAAwAAAAAAAAD8/woAAwAAAAAAAAD8/wsAAwAAAAAAAAD7/wsAAwAAAAAAAAD7/wwAAwAAAAAAAAD8/wwAAwAAAAAAAAD8/w0AAwAAAAAAAAD7/w0AAwAAAAAAAAD7/w4AAwAAAAAAAAD8/w4AAwAAAAAAAAD7/w8AAwAAAAAAAAD8/w8AAwAAAAAAAAD7/xAAAwAAAAAAAAD8/xAAAwAAAAAAAAD8/xEAAwAAAAAAAAD7/xEAAwAAAAAAAAD7/xIAAwAAAAAAAAD8/xIAAwAAAAAAAAD8/xMAAwAAAAAAAAD7/xMAAwAAAAAAAAD7/xQAAwAAAAAAAAD7/xUAAwAAAAAAAAD8/xUAAwAAAAAAAAD8/xQAAwAAAAAAAAD8/xYAAwAAAAAAAAD7/xYAAwAAAAAAAAD7/xcAAwAAAAAAAAD7/xgAAwAAAAAAAAD8/xgAAwAAAAAAAAD8/xcAAwAAAAAAAAA=")
tile_set = ExtResource("1_tqh7g")

[node name="Room" type="TileMapLayer" parent="TileMap"]
tile_map_data = PackedByteArray("AAD6//v/AAAFAAAAAAD7//v/AAAGAAAAAAD8//v/AAAHAAAAAAD9//v/AAAIAAAAAAD+//v/AAAFAAAAAAD///v/AAAGAAAAAAAAAPv/AAAHAAAAAAABAPv/AAAIAAAAAAACAPv/AAAFAAAAAAADAPv/AAAGAAAAAAAEAPv/AAAHAAAAAAAFAPv/AAAIAAAAAAAGAPv/AAAFAAAAAAAHAPv/AAAGAAAAAAAIAPv/AAAHAAAAAAAJAPv/AAAIAAAAAAAKAPv/AAARAAAAAAD2//v/AAAFAAAAAAD3//v/AAAGAAAAAAD4//v/AAAHAAAAAAD5//v/AAAIAAAAAAD1//v/AAARAAAAABD2//7/AAAJAAUAAAD3//7/AAAKAAUAAAD4//7/AAALAAUAAAD5//7/AAAKAAUAAAD6//7/AAALAAUAAAD7//7/AAAKAAUAAAD8//7/AAALAAUAAAD9//7/AAAKAAUAAAD+//7/AAALAAUAAAD///7/AAAKAAUAAAAAAP7/AAALAAUAAAABAP7/AAAKAAUAAAACAP7/AAALAAUAAAADAP7/AAAKAAUAAAAEAP7/AAALAAUAAAAFAP7/AAAKAAUAAAAGAP7/AAALAAUAAAAHAP7/AAAKAAUAAAAIAP7/AAALAAUAAAAJAP7/AAAMAAUAAAD2////AAAJAAYAAAD3////AAAKAAYAAAD4////AAALAAYAAAD5////AAAKAAYAAAD6////AAALAAYAAAD7////AAAKAAYAAAD8////AAALAAYAAAD9////AAAKAAYAAAD+////AAALAAYAAAD/////AAAKAAYAAAAAAP//AAALAAYAAAABAP//AAAKAAYAAAACAP//AAALAAYAAAADAP//AAAKAAYAAAAEAP//AAALAAYAAAAFAP//AAAKAAYAAAAGAP//AAALAAYAAAAHAP//AAAKAAYAAAAIAP//AAALAAYAAAD2/wAAAAAJAAYAAAD3/wAAAAALAAYAAAD2/wEAAAAJAAYAAAD3/wEAAAALAAYAAAD2/wIAAAAJAAYAAAD3/wIAAAALAAYAAAD2/wMAAAAJAAYAAAD3/wMAAAALAAYAAAD2/wQAAAAJAAYAAAD3/wQAAAALAAYAAAD2/wUAAAAJAAYAAAD3/wUAAAALAAYAAAD2/wYAAAAJAAYAAAD3/wYAAAALAAYAAAD4/wAAAAAKAAYAAAD5/wAAAAALAAYAAAD4/wEAAAAKAAYAAAD5/wEAAAALAAYAAAD4/wIAAAAKAAYAAAD5/wIAAAALAAYAAAD4/wMAAAAKAAYAAAD5/wMAAAALAAYAAAD4/wQAAAAKAAYAAAD5/wQAAAALAAYAAAD4/wUAAAAKAAYAAAD5/wUAAAALAAYAAAD4/wYAAAAKAAYAAAD5/wYAAAALAAYAAAD6/wAAAAAKAAYAAAD7/wAAAAALAAYAAAD6/wEAAAAKAAYAAAD7/wEAAAALAAYAAAD6/wIAAAAKAAYAAAD7/wIAAAALAAYAAAD6/wMAAAAKAAYAAAD7/wMAAAALAAYAAAD6/wQAAAAKAAYAAAD7/wQAAAALAAYAAAD6/wUAAAAKAAYAAAD7/wUAAAALAAYAAAD6/wYAAAAKAAYAAAD7/wYAAAALAAYAAAD8/wAAAAAKAAYAAAD9/wAAAAALAAYAAAD8/wEAAAAKAAYAAAD9/wEAAAALAAYAAAD8/wIAAAAKAAYAAAD9/wIAAAALAAYAAAD8/wMAAAAKAAYAAAD9/wMAAAALAAYAAAD8/wQAAAAKAAYAAAD9/wQAAAALAAYAAAD8/wUAAAAKAAYAAAD9/wUAAAALAAYAAAD8/wYAAAAKAAYAAAD9/wYAAAALAAYAAAD+/wAAAAAKAAYAAAD//wAAAAALAAYAAAD+/wEAAAAKAAYAAAD//wEAAAALAAYAAAD+/wIAAAAKAAYAAAD//wIAAAALAAYAAAD+/wMAAAAKAAYAAAD//wMAAAALAAYAAAD+/wQAAAAKAAYAAAD//wQAAAALAAYAAAD+/wUAAAAKAAYAAAD//wUAAAALAAYAAAD+/wYAAAAKAAYAAAD//wYAAAALAAYAAAAAAAAAAAAKAAYAAAABAAAAAAALAAYAAAAAAAEAAAAKAAYAAAABAAEAAAALAAYAAAAAAAIAAAAKAAYAAAABAAIAAAALAAYAAAAAAAMAAAAKAAYAAAABAAMAAAALAAYAAAAAAAQAAAAKAAYAAAABAAQAAAALAAYAAAAAAAUAAAAKAAYAAAABAAUAAAALAAYAAAAAAAYAAAAKAAYAAAABAAYAAAALAAYAAAACAAAAAAAKAAYAAAADAAAAAAALAAYAAAACAAEAAAAKAAYAAAADAAEAAAALAAYAAAACAAIAAAAKAAYAAAADAAIAAAALAAYAAAACAAMAAAAKAAYAAAADAAMAAAALAAYAAAACAAQAAAAKAAYAAAADAAQAAAALAAYAAAACAAUAAAAKAAYAAAADAAUAAAALAAYAAAACAAYAAAAKAAYAAAADAAYAAAALAAYAAAAEAAAAAAAKAAYAAAAFAAAAAAALAAYAAAAEAAEAAAAKAAYAAAAFAAEAAAALAAYAAAAEAAIAAAAKAAYAAAAFAAIAAAALAAYAAAAEAAMAAAAKAAYAAAAFAAMAAAALAAYAAAAEAAQAAAAKAAYAAAAFAAQAAAALAAYAAAAEAAUAAAAKAAYAAAAFAAUAAAALAAYAAAAEAAYAAAAKAAYAAAAFAAYAAAALAAYAAAAGAAAAAAAKAAYAAAAHAAAAAAALAAYAAAAGAAEAAAAKAAYAAAAHAAEAAAALAAYAAAAGAAIAAAAKAAYAAAAHAAIAAAALAAYAAAAGAAMAAAAKAAYAAAAHAAMAAAALAAYAAAAGAAQAAAAKAAYAAAAHAAQAAAALAAYAAAAGAAUAAAAKAAYAAAAHAAUAAAALAAYAAAAGAAYAAAAKAAYAAAAHAAYAAAALAAYAAAAIAAAAAAAKAAYAAAAIAAEAAAAKAAYAAAAIAAIAAAAKAAYAAAAIAAMAAAAKAAYAAAAIAAQAAAAKAAYAAAAIAAUAAAAKAAYAAAAIAAYAAAAKAAYAAAAJAP//AAAMAAYAAAAJAAAAAAAMAAYAAAAJAAEAAAAMAAYAAAAJAAIAAAAMAAYAAAAJAAMAAAAMAAYAAAAJAAQAAAAMAAYAAAAJAAUAAAAMAAYAAAAJAAYAAAAMAAYAAAAJAAcAAAAMAAcAAAD2/wcAAAAJAAcAAAD3/wcAAAAKAAcAAAD4/wcAAAALAAcAAAD5/wcAAAAKAAcAAAD6/wcAAAALAAcAAAD7/wcAAAAKAAcAAAD8/wcAAAALAAcAAAD9/wcAAAAKAAcAAAD+/wcAAAALAAcAAAD//wcAAAAKAAcAAAAAAAcAAAALAAcAAAABAAcAAAAKAAcAAAACAAcAAAALAAcAAAADAAcAAAAKAAcAAAAEAAcAAAALAAcAAAAFAAcAAAAKAAcAAAAGAAcAAAALAAcAAAAHAAcAAAAKAAcAAAAIAAcAAAALAAcAAAD1//7/AAAAAAEAAAD1////AAAAAAIAAAD1/wAAAAAAAAMAAAD1/wEAAAAAAAQAAAD1/wIAAAAAAAUAAAD1/wMAAAAAAAEAAAD1/wQAAAAAAAIAAAD1/wUAAAAAAAMAAAD1/wYAAAAAAAQAAAD1/wcAAAAAAAUAAAAKAP7/AAAAAAEAABAKAP//AAAAAAIAABAKAAAAAAAAAAMAABAKAAEAAAAAAAQAABAKAAIAAAAAAAUAABAKAAMAAAAAAAEAABAKAAQAAAAAAAIAABAKAAUAAAAAAAMAABAKAAYAAAAAAAQAABAKAAcAAAAAAAUAABD1/wgAAAAAAAgAAAAKAAgAAAARAAgAAAD6/wgAAAABAAgAAAD7/wgAAAACAAgAAAD8/wgAAAADAAgAAAD9/wgAAAAEAAgAAAADAAgAAAAGAAgAAAD2/wgAAAABAAgAAAD3/wgAAAABAAgAAAD4/wgAAAABAAgAAAD5/wgAAAABAAgAAAD+/wgAAAABAAgAAAD//wgAAAAFAAgAAAAAAAgAAAAGAAgAAAABAAgAAAAGAAgAAAAGAAgAAAAGAAgAAAAHAAgAAAAIAAgAAAAIAAgAAAABAAgAAAAJAAgAAAABAAgAAAAEAAgAAAAGAAgAAAAFAAgAAAAGAAgAAAACAAgAAAAGAAgAAAA=")
tile_set = ExtResource("1_tqh7g")

[node name="Lower Furniture" type="TileMapLayer" parent="TileMap"]
z_index = 1
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAEAPv/AQAAAAoAAAAFAAQAAQAKAAIAAAA=")
tile_set = ExtResource("1_tqh7g")

[node name="Furniture" type="TileMapLayer" parent="TileMap"]
z_index = 5
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAFAAIAAQAFAAoAAAAHAAQAAQALAAcAABADAAQAAQAAAAwAAAD3//3/AQACAAQAAAD9//3/AQACAAQAAAAIAP3/AQACAAQAAAD2/wIAAQAFAAQAAAD2/wMAAQAFAAQAAAD6/wEAAQACAAQAAAD9/wEAAQACAAQAAAAJAP//AQAFAAQAABAJAAAAAQAFAAQAABD6//3/AQAEAAcAAAADAAUAAQAGAAcAAAAEAPz/AQAIAA8AAAAAAP7/AQAJAAkAAAAAAPz/AQAJAAcAAAAAAP3/AQAJAAgAAAABAPz/AQAKAAcAAAABAP3/AQAKAAgAAAABAP7/AQAKAAkAAAAAAPv/AQAJAAcAAAABAPv/AQAKAAcAAAAAAPr/AQAJAAcAAAABAPr/AQAKAAcAAAAHAAMAAQACAAAAABAEAP7/AQAAAAIAAAD2/wAAAQAGAAcAAAA=")
tile_set = ExtResource("1_tqh7g")
script = SubResource("GDScript_c8cdf")

[node name="Upper Furniture" type="TileMapLayer" parent="TileMap"]
z_index = 5
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAFAAMAAQAFAAIAAAAEAPv/AQAAAAoAAAA=")
tile_set = ExtResource("1_tqh7g")

[node name="Accessories" type="TileMapLayer" parent="TileMap"]
z_index = 6
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAFAAMAAgAAAAMAAAAEAPv/AQAAAAoAAAAHAAIAAgACAAMAAAADAP3/AgABAAMAAAAFAP3/AgAGAAEAAAAEAP3/AgAEAAMAAAA=")
tile_set = ExtResource("1_tqh7g")

[node name="Player" parent="." instance=ExtResource("1_7xs0p")]
z_index = 5
y_sort_enabled = true
position = Vector2(6, 7)

[node name="Camera" type="Camera2D" parent="Player"]
unique_name_in_owner = true
zoom = Vector2(4, 4)
position_smoothing_enabled = true

[node name="Particles" type="Node2D" parent="."]
position = Vector2(-64, 383)

[node name="Embers" parent="Particles" instance=ExtResource("4_tkxoj")]
z_index = 5
position = Vector2(79, -416)

[node name="Lights" type="Node2D" parent="."]
position = Vector2(-64, 383)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="Lights"]
position = Vector2(64, -383)
energy = 0.5
blend_mode = 1

[node name="Lamp1" parent="Lights" instance=ExtResource("6_r1p8v")]
position = Vector2(121, -311)

[node name="Lamp2" parent="Lights" instance=ExtResource("6_r1p8v")]
position = Vector2(-88, -391)

[node name="TableLamp" type="PointLight2D" parent="Lights"]
position = Vector2(137, -423)
shadow_enabled = true
texture = SubResource("GradientTexture2D_g1yrr")

[node name="Candle" type="PointLight2D" parent="Lights"]
position = Vector2(186, -346)
energy = 0.6
shadow_enabled = true
texture = SubResource("GradientTexture2D_g1yrr")

[node name="Entrance" type="Node2D" parent="."]
position = Vector2(-64, 383)
script = ExtResource("7_44jot")

[node name="NavigationLeave" type="Node2D" parent="Entrance"]
unique_name_in_owner = true

[node name="Door" parent="Entrance" instance=ExtResource("8_x81t4")]
position = Vector2(1, -252)

[node name="NavigationPoints" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Node2D" type="Node2D" parent="NavigationPoints"]
position = Vector2(-138, -9)

[node name="Node2D2" type="Node2D" parent="NavigationPoints"]
position = Vector2(-42, -9)

[node name="Node2D3" type="Node2D" parent="NavigationPoints"]
position = Vector2(-41, 54)

[node name="Node2D4" type="Node2D" parent="NavigationPoints"]
position = Vector2(-87, 55)

[node name="Node2D5" type="Node2D" parent="NavigationPoints"]
position = Vector2(-138, 63)

[node name="Node2D6" type="Node2D" parent="NavigationPoints"]
position = Vector2(137, 9)

[node name="Node2D7" type="Node2D" parent="NavigationPoints"]
position = Vector2(131, -8)

[node name="Fire" type="Node2D" parent="."]
position = Vector2(15, -34)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Fire"]
stream = ExtResource("9_ykf7b")
volume_db = 24.0
autoplay = true
max_distance = 300.0
attenuation = 9.51364
